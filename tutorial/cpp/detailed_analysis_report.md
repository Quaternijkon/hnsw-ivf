# Faiss 磁盘 vs 内存磁盘性能分析报告

## 测试概览
- 测试线程数范围: 1 - 20
- 平均QPS提升: -47.57%
- 平均延迟改善: -87.68%

## 最佳性能配置
### 普通磁盘最佳配置
- 线程数: 19
- QPS: 3053.46
- 延迟: 5.9168 ms

### 内存磁盘最佳配置
- 线程数: 20
- QPS: 1741.67
- 延迟: 10.0087 ms

## 磁盘I/O瓶颈分析
- 高线程数(≥15)平均QPS提升: -48.22%
- **结论**: 磁盘I/O不是主要瓶颈，性能差异较小

## 详细性能对比

| 线程数 | 普通磁盘QPS | 内存磁盘QPS | QPS提升% | 普通磁盘延迟(ms) | 内存磁盘延迟(ms) | 延迟改善% |
|--------|-------------|-------------|----------|------------------|------------------|-----------|
| 1 | 497.62 | 398.06 | -20.01 | 2.0043 | 2.5062 | -25.04 |
| 2 | 844.64 | 504.15 | -40.31 | 2.3323 | 3.7916 | -62.57 |
| 3 | 1159.30 | 629.69 | -45.68 | 2.4576 | 4.6239 | -88.15 |
| 4 | 1441.61 | 743.04 | -48.46 | 2.6990 | 5.1752 | -91.75 |
| 5 | 1826.77 | 886.42 | -51.48 | 2.5422 | 5.1994 | -104.52 |
| 6 | 1986.13 | 936.03 | -52.87 | 2.8495 | 5.8481 | -105.23 |
| 7 | 1980.90 | 1047.03 | -47.14 | 3.2782 | 6.0967 | -85.98 |
| 8 | 2177.84 | 1024.58 | -52.95 | 3.5163 | 7.1449 | -103.19 |
| 9 | 2357.97 | 1133.10 | -51.95 | 3.5488 | 7.4976 | -111.27 |
| 10 | 2466.66 | 1261.25 | -48.87 | 3.8992 | 7.2385 | -85.64 |
| 11 | 2655.77 | 1279.21 | -51.83 | 3.8932 | 7.7363 | -98.71 |
| 12 | 2672.00 | 1372.35 | -48.64 | 4.1311 | 7.9222 | -91.77 |
| 13 | 2793.59 | 1403.32 | -49.77 | 4.3829 | 8.3872 | -91.36 |
| 14 | 2876.90 | 1376.26 | -52.16 | 4.4975 | 9.2099 | -104.78 |
| 15 | 2995.69 | 1372.70 | -54.18 | 4.5873 | 9.9425 | -116.74 |
| 16 | 2952.72 | 1450.42 | -50.88 | 5.0863 | 9.9036 | -94.71 |
| 17 | 2907.67 | 1517.43 | -47.81 | 5.4995 | 9.6292 | -75.09 |
| 18 | 3047.00 | 1576.84 | -48.25 | 5.5504 | 10.0403 | -80.89 |
| 19 | 3053.46 | 1654.80 | -45.81 | 5.9168 | 10.2797 | -73.74 |
| 20 | 3024.52 | 1741.67 | -42.41 | 6.1614 | 10.0087 | -62.44 |

## 优化建议
- **当前配置**: 存储性能基本满足需求，可继续使用当前配置
- **普通磁盘最优线程数**: 19
- **内存磁盘最优线程数**: 20